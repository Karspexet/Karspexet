{% extends "ticket/base.html" %}
{% load static svg %}
{% block ticket_content %}
  <div class="content_container ticket-detail">
    <div class="ticket-detail-header">
      <p>Välkommen till Kårspexet</p>
      <h1>{{ production.name }}</h1>
      <p class="alt-name">{{ production.alt_name }}</p>
      <ul class="show-info">
        <li class="mb-1">
          <span class="inline-flex items-center mr-2">
            <span class="inline-flex text-gold items-center justify-center mr-1">
              <svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                <path fill="currentColor" d="M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z" />
              </svg>
            </span>
            <em class="leading-none">{{ show.date|date:"Y-m-d" }}</em>
          </span>

          <span class="inline-flex items-center">
            <span class="inline-flex text-gold items-center justify-center mr-1">
              <svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                <path fill="currentColor" d="M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z" />
              </svg>
            </span>
            <em class="leading-none">{{ show.date|date:"H:i" }}</em>
          </span>
        </li>
      </li>
      <li class="inline-flex items-center">
        <span class="inline-flex text-gold items-center justify-center mr-1">
          <svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
            <path fill="currentColor" d="M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z" />
          </svg>
        </span>
        <address class="leading-none"><em>{{ venue.name }}, {{ venue.address }}</em></address>
      </li>
      {% if venue.map_address %}
        <li><a href="{{ venue.map_address }}" target="_blank">Öppna på karta</a></li>
      {% endif %}
    </ul>
  </div>
  {% if messages %}
    <section>
      <ul class="messages">
        {% for message in messages %}
          <li>{{ message }}</li>
        {% endfor %}
      </ul>
    </section>
  {% endif %}
  <main>
    <h2>Här finner du dina biljetter</h2>

    <p>Vi kommer skicka ett mail till dig med den här informationen och en länk till den här sidan.</p>
    <p>Däremot har vi ibland problem med att vissa mail inte kommer fram, så vi rekommenderar att du laddar ner biljetterna härifrån på en gång.</p>

    <ul>
      {% for ticket in tickets %}
        <li>
          <a href="{% url 'ticket_pdf' reservation.id ticket.ticket_code %}">{{ ticket }}</a>
        </li>
      {% endfor %}
    </ul>

    <h3>Skicka bokningen via E-post</h3>
    <form action="{% url 'send_reservation_email' reservation.reservation_code %}" method="post">
      {% csrf_token %}
      {{ email_form.as_p }}
      <input type="submit" value="Skicka via E-post!">
    </form>
  </main>
  </div>
{% endblock %}
